<div class="sidebar-container">
  <mat-nav-list>
    <ng-container *ngFor="let item of filterNavItems(navItems)">
      <!-- Single menu item -->
      <a
        mat-list-item
        *ngIf="!item.children"
        [routerLink]="item.route"
        routerLinkActive="active"
      >
        <mat-icon matListItemIcon>{{ item.icon }}</mat-icon>
        <span matListItemTitle>{{ item.label }}</span>
      </a>

      <!-- Dropdown menu -->
      <mat-expansion-panel
        *ngIf="item.children"
        class="mat-elevation-z0 sidebar-expansion"
      >
        <mat-expansion-panel-header>
          <mat-panel-title>
            <mat-icon>{{ item.icon }}</mat-icon>
            <span>{{ item.label }}</span>
          </mat-panel-title>
        </mat-expansion-panel-header>

        <mat-nav-list>
          <a
            mat-list-item
            *ngFor="let child of filterNavItems(item.children)"
            [routerLink]="child.route"
            routerLinkActive="active"
          >
            <mat-icon matListItemIcon>{{ child.icon }}</mat-icon>
            <span matListItemTitle>{{ child.label }}</span>
          </a>
        </mat-nav-list>
      </mat-expansion-panel>
    </ng-container>
  </mat-nav-list>
</div>
